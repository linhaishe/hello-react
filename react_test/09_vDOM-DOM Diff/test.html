<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>09_component</title>
  </head>
  <body>
    <div id="example"></div>
    <br />

    <script type="text/javascript" src="../js2/react.development.js"></script>
    <script
      type="text/javascript"
      src="../js2/react-dom.development.js"
    ></script>
    <script type="text/javascript" src="../js2/babel.min.js"></script>
    <script type="text/babel">
      /*
  验证:
  虚拟DOM+DOM Diff算法: 最小化页面重绘，判断需要更新区域,最终减小更新区域
  */

      class HelloWorld extends React.Component {
        constructor(props) {
          super(props);
          this.state = {
            date: new Date()
          };
        }

        componentDidMount() {
          setInterval(() => {
            this.setState({
              date: new Date()
            });
          }, 1000);
        }

        render() {
          console.log("render()");
          return (
            <p>
              Hello, <input type="text" placeholder="Your name here" />
              !&nbsp;
              {/*实现最小化的更新区域，减少操作真实DOM*/}
              <span>It is {this.state.date.toTimeString()}</span>
            </p>
          );
        }
      }

      ReactDOM.render(<HelloWorld />, document.getElementById("example"));
    </script>
  </body>
</html>
